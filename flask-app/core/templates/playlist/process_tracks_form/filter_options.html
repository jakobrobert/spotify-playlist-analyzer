<div>
    <input type="radio" id="artists" name="filter_by" value="artists"
           {% if filter_params["filter_by"] == "artists" %} checked {% endif %}>
    <label for="artists">Artists</label>
    <label for="artists_substring">contain</label>
    <input type="text" id="artists_substring" name="artists_substring"
           value="{{ filter_params["artists_substring"] }}">
</div>
<div>
    <input type="radio" id="title" name="filter_by" value="title"
           {% if filter_params["filter_by"] == "title" %} checked {% endif %}>
    <label for="title">Title</label>
    <label for="title_substring">contains</label>
    <input type="text" id="title_substring" name="title_substring"
           value="{{ filter_params["title_substring"] }}">
</div>
<div>
    <input type="radio" id="genres" name="filter_by" value="genres"
           {% if filter_params["filter_by"] == "genres" %} checked {% endif %}>
    <label for="genres">Genres</label>
    <label for="genres_substring">contain</label>
    <input type="text" id="genres_substring" name="genres_substring"
           value="{{ filter_params["genres_substring"] }}">
</div>
<div>
    <input type="radio" id="key" name="filter_by" value="key"
           {% if filter_params["filter_by"] == "key" %} checked {% endif %}>
    <label for="key">Key</label>
    <label for="expected_key">is</label>
    <select class="form-control" id="expected_key" name="expected_key">
        {% for key_string in key_strings %}
            <option value="{{ loop.index0 }}"
                    {% if filter_params["expected_key"] == loop.index0 %} selected {% endif %}>
                {{ key_string }}
            </option>
        {% endfor %}
    </select>
</div>
<div>
    <input type="radio" id="mode" name="filter_by" value="mode"
           {% if filter_params["filter_by"] == "mode" %} checked {% endif %}>
    <label for="mode">Mode</label>
    <label for="expected_mode">is</label>
    <select class="form-control" id="expected_mode" name="expected_mode">
        {% for mode_string in mode_strings %}
            <option value="{{ loop.index0 }}"
                    {% if filter_params["expected_mode"] == loop.index0 %} selected {% endif %}>
                {{ mode_string }}
            </option>
        {% endfor %}
    </select>
</div>
<div>
    <input type="radio" id="key_signature" name="filter_by" value="key_signature"
           {% if filter_params["filter_by"] == "key_signature" %} checked {% endif %}>
    <label for="key_signature">Key Signature</label>
    <label for="expected_key_signature">is</label>
    <select class="form-control" id="expected_key_signature" name="expected_key_signature">
        {% for key_signature in valid_key_signatures %}
            <option value="{{ key_signature }}"
                    {% if filter_params["expected_key_signature"] == key_signature %} selected {% endif %}>
                {{ key_signature }}
            </option>
        {% endfor %}
    </select>
</div>
{% for attribute in numerical_attributes_for_filter_option %}
    <div>
        <input type="radio" id="{{ attribute }}" name="filter_by" value="{{ attribute }}"
               {% if filter_params["filter_by"] == attribute %} checked {% endif %}>
        <label for="{{ attribute }}">{{ attribute_display_names[attribute] }}</label>
        <label for="min_{{ attribute }}">from</label>
        <input type="number" id="min_{{ attribute }}" name="min_{{ attribute }}"
               value="{{ filter_params["min_" + attribute] }}">
        <label for="max_{{ attribute }}">to</label>
        <input type="number" id="max_{{ attribute }}" name="max_{{ attribute }}"
               value="{{ filter_params["max_" + attribute] }}">
    </div>
{% endfor %}
